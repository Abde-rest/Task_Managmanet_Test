<!-- ูู ูุงุฐุง ุงููุดุฑูุน ุชู ุชุทุจูู ุนูููุฉ Data Fetching Using Fetch api  -->

<!-- ุชู ุงูุดุงุก ุตูุญุฉ ูุนุฑุถ ุงูููุชุฌุงุช ูุนุง ุงุถุงูุฉ ุงูุณูุฉ   -->
<!-- ุชู ุงูุดุงุก ููุทู ุงูุงุถุงูุฉ ูู ุงูุณูุฉ ุงูุถุง ุจุงุชุณุญุฏุงู Zustund  -->

<!-- ุจุนุฏ ุงุณุชุฎุฏุงู ุงูุฐูุงุก ุงูุฃุตุทูุงุนู ูู ุตูุงูุฉ ุงูููุฏ ูุฌุฏุช ููุณู ูุชุฃุฎุฑุง ูุซูุฑุง :
ูุฐุงูู ูุงุชู ููุง ุงูุงูุชุฑุงุญุงุช ุงูุชู ุงุนุทุงูุง ูู ุงูุฐูุงุก ุงูุงุตุทูุงุนู

 # ุฏููู ุฅุนุงุฏุฉ ููููุฉ ุงูููุฏ (Refactoring Guide)

## ๐ ุชุญููู ุงููุดููุฉ

### โ ุงููุดุงูู ุงูุญุงููุฉ:

1. **Code Duplication (ุชูุฑุงุฑ ุงูููุฏ)**

   - ููุณ ููุทู Toast ูู ูู ููุงู
   - ููุณ ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก
   - ููุณ ููุทู LoadingOverlay
   - ููุณ ุญูู ูููุฉ ุงููุฑูุฑ

2. **ุตุนูุจุฉ ุงูุตูุงูุฉ**

   - ุฅุฐุง ุฃุฑุฏุช ุชุบููุฑ ุดูุกุ ูุฌุจ ุชุบููุฑู ูู ุนุฏุฉ ุฃูุงูู
   - ุงุญุชูุงู ุงูุฃุฎุทุงุก ุฃูุจุฑ

3. **ุนุฏู ูุงุจููุฉ ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู**
   - ุงูููุฏ ูุฑุจูุท ุจุณูุงู ูุญุฏุฏ
   - ุตุนุจ ุงุณุชุฎุฏุงูู ูู ุฃูุงูู ุฃุฎุฑู

---

## โ ุงูุญููู ุงูููุชุฑุญุฉ

### 1. Custom Hooks

#### `useToast` - ุฅุฏุงุฑุฉ Toast ููุญุฏุฉ

```typescript
// ูุจู โ
toast.success("ุฑุณุงูุฉ", {
  position: "top-center",
  autoClose: 2000,
  hideProgressBar: false,
  draggable: true,
  // ... ุฅูุฎ
});

// ุจุนุฏ โ
const { showSuccess } = useToast();
showSuccess("ุฑุณุงูุฉ");
```

**ุงูููุงุฆุฏ:**

- โ ููุฏ ุฃูู
- โ ุฅุนุฏุงุฏุงุช ููุญุฏุฉ
- โ ุณูููุฉ ุงูุชุนุฏูู

#### `useAuth` - ููุทู ุงููุตุงุฏูุฉ

```typescript
// ูุจู โ - 50+ ุณุทุฑ ูู ูู component
const handleLogin = async () => {
  setLoading(true);
  try {
    const res = await signIn(...);
    if (!res?.ok) throw new Error(...);
    toast.success(...);
    setShowOverlay(true);
    setTimeout(() => router.push(...), 2000);
  } catch (error) {
    // ...
  }
};

// ุจุนุฏ โ - ุณุทุฑ ูุงุญุฏ
const { handleLogin, loading, showOverlay } = useAuth();
await handleLogin(email, password);
```

**ุงูููุงุฆุฏ:**

- โ ููุทู ููุญุฏ
- โ ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- โ ุฃุณูู ููุงุฎุชุจุงุฑ

---

### 2. Shared Components

#### `PasswordInput` - ุญูู ูููุฉ ุงููุฑูุฑ

```typescript
// ูุจู โ - 30+ ุณุทุฑ ููุฑุฑ
<div className="relative">
  <Input type={showPassword ? "text" : "password"} ... />
  <button onClick={() => setShowPassword(...)}>
    {showPassword ? <EyeClosed /> : <Eye />}
  </button>
</div>

// ุจุนุฏ โ - ุณุทุฑ ูุงุญุฏ
<PasswordInput
  value={password}
  onChange={setPassword}
  showForgotPassword
/>
```

**ุงูููุงุฆุฏ:**

- โ ููุฏ ุฃูู ุจูุณุจุฉ 90%
- โ ุณููู ููุญุฏ
- โ ุณูููุฉ ุงูุชุนุฏูู

---

### 3. Utility Functions

#### `errorHandler.ts` - ูุนุงูุฌุฉ ุงูุฃุฎุทุงุก

```typescript
// ูุจู โ
if (error instanceof Error) {
  toast.warning(error.message, {...});
}

// ุจุนุฏ โ
const errorMessage = handleError(error);
showError(errorMessage);
```

---

## ๐ ุงูููุงุฑูุฉ

### ูุจู ุฅุนุงุฏุฉ ุงูููููุฉ:

- **Login.tsx**: ~186 ุณุทุฑ
- **SingUp.tsx**: ~234 ุณุทุฑ
- **ุฅุฌูุงูู**: 420 ุณุทุฑ
- **ุชูุฑุงุฑ**: ~150 ุณุทุฑ

### ุจุนุฏ ุฅุนุงุฏุฉ ุงูููููุฉ:

- **Login.tsx**: ~80 ุณุทุฑ (ุชูููู 57%)
- **SingUp.tsx**: ~100 ุณุทุฑ (ุชูููู 57%)
- **ุฅุฌูุงูู**: 180 ุณุทุฑ + 150 ุณุทุฑ (shared code)
- **ุชูุฑุงุฑ**: 0 ุณุทุฑ โ

---

## ๐ฏ ุงููุตุงุฆุญ ุงูุนุงูุฉ

### 1. **DRY Principle** (Don't Repeat Yourself)

- ุฅุฐุง ูุฑุฑุช ุงูููุฏ 3 ูุฑุงุช โ ุฃูุดุฆ function/component

### 2. **Single Responsibility**

- ูู hook/component ูุฌุจ ุฃู ูููู ูู ูุณุคูููุฉ ูุงุญุฏุฉ

### 3. **Composition over Duplication**

- ุงุณุชุฎุฏู composition ุจุฏูุงู ูู ูุณุฎ ุงูููุฏ

### 4. **Custom Hooks ููู Business Logic**

- ุงุณุชุฎุฏู hooks ููููุทู ุงููุนูุฏ
- ุงุณุชุฎุฏู components ููู UI

### 5. **Utility Functions ููู Helpers**

- ุฃูุดุฆ utils ููููุงู ุงูุจุณูุทุฉ ุงููุชูุฑุฑุฉ

---

## ๐ ุฎุทูุงุช ุงูุชุทุจูู

1. โ ุฅูุดุงุก `useToast` hook
2. โ ุฅูุดุงุก `useAuth` hook
3. โ ุฅูุดุงุก `PasswordInput` component
4. โ ุฅูุดุงุก `errorHandler` utils
5. โณ ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู Login.tsx
6. โณ ุชุทุจูู ุงูุชุบููุฑุงุช ุนูู SingUp.tsx
7. โณ ุงุฎุชุจุงุฑ ูู ุดูุก

---

## ๐ ููุงุญุธุงุช ูููุฉ

- **ูุง ุชูุฑุท ูู ุงูู Abstraction**: ุฅุฐุง ูุงู ุงูููุฏ ุจุณูุทุ ูุง ุญุงุฌุฉ ูู hook
- **ุงุจุฏุฃ ุตุบูุฑุงู**: ุงุจุฏุฃ ุจุฅุฒุงูุฉ ุงูุชูุฑุงุฑ ุงููุงุถุญ
- **ุงุฎุชุจุฑ ุฏุงุฆูุงู**: ุจุนุฏ ูู refactoringุ ุชุฃูุฏ ุฃู ูู ุดูุก ูุนูู

---

## โ ุงูุฎูุงุตุฉ

**ูุจู**: ููุฏ ููุฑุฑุ ุตุนุจ ุงูุตูุงูุฉุ ุงุญุชูุงู ุฃุฎุทุงุก ุนุงูู

**ุจุนุฏ**: ููุฏ ูุธููุ ุณูู ุงูุตูุงูุฉุ ูุงุจู ูุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู

**ุงููุชูุฌุฉ**:

- โฌ๏ธ ุชูููู ุงูููุฏ ุจูุณุจุฉ 57%
- โฌ๏ธ ุณูููุฉ ุงูุตูุงูุฉ
- โ ูุงุจููุฉ ุฅุนุงุฏุฉ ุงูุงุณุชุฎุฏุงู
- ๐ ุฃุฎุทุงุก ุฃูู -->
